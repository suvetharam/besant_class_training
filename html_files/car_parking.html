<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Parking System</title>

    <style>
        .parking-container {
            display: grid;
            grid-template-columns: repeat(5, 100px);
            grid-gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .slot_available {
            width: 100px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgb(142, 254, 131);
        }

        .slot_occupied {
            width: 100px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgb(249, 125, 125);
        }

        /* .occupied {
            background-color: green
        }

        .available {
            background-color: grey
        } */
    </style>

</head>

<body>

    <div>
        <label for="slot-number" class="form-label">Slot number</label>
        <select name="slot-number" id="slot-number">
            <option value="">Select the slot-number</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
        </select>

        <label for="car-number" class=form-label">Car number</label>
        <input type="text" id="car-number" class="form control">

        <button type="button" value="entry" onclick="entryButton()">Entry</button>
    </div>

    <div>
        <label for="exit-car-number" class=form-label">Car number</label>
        <input type="text" id="exit-car-number" class="form control">

        <button type="button" value="exit" onclick="exitButton()">Exit</button>
    </div>


    <center>
        <h1>Parking Slots</h1>
    </center>

    <div class="parking-container">
        <div class="slot_available" id="slot_1"> 1 </div>
        <div class="slot_available" id="slot_2"> 2 </div>
        <div class="slot_available" id="slot_3"> 3 </div>
        <div class="slot_available" id="slot_4"> 4 </div>
        <div class="slot_available" id="slot_5"> 5 </div>

        <div class="slot_available" id="slot_6"> 6 </div>
        <div class="slot_available" id="slot_7"> 7 </div>
        <div class="slot_available" id="slot_8"> 8 </div>
        <div class="slot_available" id="slot_9"> 9 </div>
        <div class="slot_available" id="slot_10"> 10 </div>
    </div>

    <script>
        let parkArray = ["Nil1", "Nil2", "Nil3", "Nil4", "Nil5", "Nil6", "Nil7", "Nil8", "Nil9", "Nil10"];

        function entryButton() {
            console.log("--------- entry        Button ----------------------------------------------");

            let e = document.getElementById("slot-number");
            let selectedSlot = e.options[e.selectedIndex].value;

            let carNumber = document.getElementById("car-number").value;
            // console.log(selectedSlot + " - - " + carNumber); //2 - abcd

            parkArray[selectedSlot - 1] = carNumber;
            // console.log(parkArray[selectedSlot]);

            // parkArray.forEach(function (entry) {
            //     console.log(entry);
            // });

            const element = document.getElementById("slot_" + selectedSlot);
            element.classList.remove("slot_available");  // Remove mystyle class
            element.classList.add("slot_occupied");  // Add newone class
        }

        function exitButton() {
            console.log("--------- exit     Button ----------------------------------------------");

            let exitCarNumber = document.getElementById("exit-car-number").value;
            console.log(exitCarNumber); //2 - abcd

            if (parkArray.includes(exitCarNumber)) {
                let index = parkArray.indexOf(exitCarNumber);
                parkArray[index] = "Nil";
                console.log("Exit car : " + index + " - - " + exitCarNumber);

                index++;
                console.log("index : " + index);

                const element = document.getElementById("slot_" + index);
                element.classList.remove("slot_occupied");  // Remove mystyle class
                element.classList.add("slot_available");  // Add newone class
            } else {
                console.log("Enter correct car number");
                alert("Enter correct car number");
            }

            // parkArray.forEach(function (entry) {
            //     console.log(entry);
            // });
        }

    </script>;
</body>

</html>
